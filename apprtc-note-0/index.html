<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>AppRTC服务器部署资料整理 | rex_log | print &quot;hello world&quot;</title>

  
  <meta name="author" content="rex_lin">
  

  
  <meta name="description" content="AppRTC介绍AppRTC服务组件业务服务器 AppRTC
参数：https://appr.tc/params.html

信令服务器 ColliderTURN（ICE）服务器 CoturnAppRTC部署过程部署AppRTC 参考
AppRTC是需要用到Google App Engine SDK">
  

  
  
  <meta name="keywords" content="AppRTC,WebRTC,音视频,部署">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="AppRTC服务器部署资料整理"/>

  <meta property="og:site_name" content="rex_log"/>

  
  <meta property="og:image" content="/blog/favicon.ico"/>
  

  <link href="/blog/favicon.ico" rel="icon">
  <link rel="alternate" href="/blog/atom.xml" title="rex_log" type="application/atom+xml">
  <link rel="stylesheet" href="/blog/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/blog/">rex_log</a>
    </h1>
    <p class="site-description">print &quot;hello world&quot;</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/blog/404.html">404</a></li>
      
        <li><a href="/blog/">主页</a></li>
      
        <li><a href="/blog/about">关于</a></li>
      
        <li><a href="/blog/categories">分类</a></li>
      
        <li><a href="/blog/tags">标签</a></li>
      
        <li><a href="/blog/archives">归档</a></li>
      
        <li><a href="http://www.re2x.com/WebRTC-wiki">WebRTC-wiki</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>AppRTC服务器部署资料整理</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/blog/apprtc-note-0/" rel="bookmark">
        <time class="entry-date published" datetime="2016-08-17T02:00:32.000Z">
          2016-08-17
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="AppRTC介绍"><a href="#AppRTC介绍" class="headerlink" title="AppRTC介绍"></a>AppRTC介绍</h1><h1 id="AppRTC服务组件"><a href="#AppRTC服务组件" class="headerlink" title="AppRTC服务组件"></a>AppRTC服务组件</h1><h2 id="业务服务器-AppRTC"><a href="#业务服务器-AppRTC" class="headerlink" title="业务服务器 AppRTC"></a>业务服务器 <a href="https://github.com/webrtc/apprtc" target="_blank" rel="external">AppRTC</a></h2><ul>
<li>参数：<a href="https://appr.tc/params.html" target="_blank" rel="external">https://appr.tc/params.html</a></li>
</ul>
<h2 id="信令服务器-Collider"><a href="#信令服务器-Collider" class="headerlink" title="信令服务器 Collider"></a>信令服务器 <a href="https://github.com/webrtc/apprtc/blob/master/src/collider/README.md" target="_blank" rel="external">Collider</a></h2><h2 id="TURN（ICE）服务器-Coturn"><a href="#TURN（ICE）服务器-Coturn" class="headerlink" title="TURN（ICE）服务器 Coturn"></a>TURN（ICE）服务器 <a href="https://github.com/coturn" target="_blank" rel="external">Coturn</a></h2><h1 id="AppRTC部署过程"><a href="#AppRTC部署过程" class="headerlink" title="AppRTC部署过程"></a>AppRTC部署过程</h1><h2 id="部署AppRTC-参考"><a href="#部署AppRTC-参考" class="headerlink" title="部署AppRTC 参考"></a>部署AppRTC <a href="https://github.com/webrtc/apprtc#deployment" target="_blank" rel="external">参考</a></h2><blockquote>
<p>AppRTC是需要用到<a href="https://cloud.google.com/appengine/downloads#Google_App_Engine_SDK_for_Python" target="_blank" rel="external">Google App Engine SDK for Python </a>和<a href="http://gruntjs.com/" target="_blank" rel="external">Grunt</a></p>
</blockquote>
<ol>
<li><p>源码下载 </p>
<blockquote>
<p>git clone <a href="https://github.com/webrtc/apprtc.git" target="_blank" rel="external">https://github.com/webrtc/apprtc.git</a></p>
</blockquote>
</li>
<li></li>
</ol>
<h2 id="部署Collider-参考"><a href="#部署Collider-参考" class="headerlink" title="部署Collider 参考"></a>部署Collider <a href="https://github.com/webrtc/apprtc/blob/master/src/collider/README.md" target="_blank" rel="external">参考</a></h2><blockquote>
<p>Collider是GO开发的，所以需要安装Go环境，安装参考 <a href="http://golang.org/doc/install" target="_blank" rel="external">http://golang.org/doc/install</a> and <a href="http://golang.org/doc/code.html" target="_blank" rel="external">http://golang.org/doc/code.html</a></p>
</blockquote>
<ol>
<li><p>源码位于apprtc/src/collider/collider</p>
</li>
<li><p>确定你已经设置<code>GOPATH</code>环境变量，例如：<code>export GOPATH=$HOME/goWorkspace</code></p>
</li>
<li><p>复制一份源码到$GOPATH/src</p>
<blockquote>
<p>cp -r apprtc/src/collider $GOPATH/src</p>
</blockquote>
</li>
<li><p>安装依赖性 </p>
<blockquote>
<p>go get collidermain</p>
</blockquote>
</li>
<li><p>安装 collidermain </p>
<blockquote>
<p>go install collidermain</p>
</blockquote>
</li>
<li><p>启动 collidermain </p>
<blockquote>
<p>$GOPATH/bin/collidermain -port=8089 -tls=false -room-server=<a href="http://47.88.32.224:8080" target="_blank" rel="external">http://47.88.32.224:8080</a></p>
</blockquote>
</li>
</ol>
<h2 id="部署Coturn"><a href="#部署Coturn" class="headerlink" title="部署Coturn"></a>部署Coturn</h2><ol>
<li><p>源码下载 <code>http://turnserver.open-sys.org/downloads/v4.5.0.3/</code></p>
</li>
<li><p>生成加密用的密钥 </p>
<blockquote>
<p>sudo openssl req -x509 -newkey rsa:2048 -keyout /usr/local/etc/turn_server_pkey.pem -out /usr/local/etc/turn_server_cert.pem -days 99999 -nodes</p>
</blockquote>
</li>
</ol>
<h1 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h1><h2 id="启动apprtc"><a href="#启动apprtc" class="headerlink" title="启动apprtc"></a>启动apprtc</h2><ol>
<li>cd到apprtc目录，执行：<blockquote>
<p>dev_appserver.py –host 0.0.0.0 ./out/app_engine</p>
</blockquote>
</li>
</ol>
<h2 id="启动collider"><a href="#启动collider" class="headerlink" title="启动collider"></a>启动collider</h2><ol>
<li>cd到$GOPATH/bin目录，执行：<blockquote>
<p>$GOPATH/bin/collidermain -port=8089 -tls=false -room-server=”<a href="http://47.88.32.224:8080" target="_blank" rel="external">http://47.88.32.224:8080</a>“</p>
</blockquote>
</li>
</ol>
<h2 id="启动coturn"><a href="#启动coturn" class="headerlink" title="启动coturn"></a>启动coturn</h2><h3 id="命令行参数启动"><a href="#命令行参数启动" class="headerlink" title="命令行参数启动"></a>命令行参数启动</h3><blockquote>
<p>turnserver -a -v -n –no-dtls –no-tls -u linzq:linzq -r “apprtc”</p>
</blockquote>
<h3 id="配置文件启动"><a href="#配置文件启动" class="headerlink" title="配置文件启动"></a>配置文件启动</h3><blockquote>
<p>turnserver -c /etc/turnserver/turnserver.conf</p>
</blockquote>
<h3 id="服务启动"><a href="#服务启动" class="headerlink" title="服务启动"></a>服务启动</h3><blockquote>
<p>service turnserver start</p>
</blockquote>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><ul>
<li><a href="https://test.webrtc.org/" target="_blank" rel="external">https://test.webrtc.org/</a></li>
</ul>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>1.<a href="http://www.jianshu.com/p/c55ecf5a3fcf" target="_blank" rel="external">自建 AppRTC</a><br>2.<a href="http://io.diveinedu.com/2015/02/05/%E7%AC%AC%E5%85%AD%E7%AB%A0-WebRTC%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA.html" target="_blank" rel="external">第六章 WebRTC服务器搭建</a><br>3.<a href="http://www.hankcs.com/program/network/actual-rfc5766-turn-server-and-ice4j-wide-area-network-communication.html" target="_blank" rel="external">实战rfc5766-turn-server和ice4j广域网通讯</a><br>4.<a href="https://webrtc.github.io/samples/" target="_blank" rel="external">WebRTC samples</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/blog/categories/WebRTC/">WebRTC</a>, <a href="/blog/categories/WebRTC/AppRTC/">AppRTC</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/blog/tags/AppRTC/">AppRTC</a><a href="/blog/tags/WebRTC/">WebRTC</a><a href="/blog/tags/音视频/">音视频</a><a href="/blog/tags/部署/">部署</a>
    </span>
    

    </div>

    
  </div>
</article>

  
	<section id="comments" class="comment">
	  <div id="disqus_thread">
	  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	  </div>
	</section>

	<script type="text/javascript">
	var disqus_shortname = 'null';
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	</script>





    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2017 rex_lin
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>